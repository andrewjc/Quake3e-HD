// ============================================================================
// Quake3e-HD Ultra Graphics Configuration
// Modern Renderer with Dynamic Lighting and Shadows
// ============================================================================

echo "^5Loading Quake3e-HD Ultra Graphics Configuration..."

// ============================================================================
// Display Settings
// ============================================================================
seta r_mode "-1"                        // Custom resolution mode
seta r_customwidth "2560"               // Set to your monitor width
seta r_customheight "1440"              // Set to your monitor height
seta r_fullscreen "1"                   // Fullscreen mode
seta r_displayRefresh "144"             // Monitor refresh rate
seta r_gamma "1.2"                      // Gamma correction
seta r_ignorehwgamma "0"                // Use hardware gamma
seta r_overBrightBits "0"               // Modern lighting, no overbright
seta r_mapOverBrightBits "0"            // Modern lighting for maps

// ============================================================================
// Vulkan Renderer Settings
// ============================================================================
seta r_backend "vulkan"                 // Use Vulkan renderer
seta r_swapInterval "1"                 // VSync (0=off, 1=on, 2=adaptive)
seta r_fbo "1"                          // Framebuffer objects
seta r_hdr "1"                          // HDR rendering
seta r_bloom "1"                        // Bloom effect
seta r_bloomPasses "5"                  // Bloom quality
seta r_bloomIntensity "0.5"             // Bloom strength

// ============================================================================
// Texture Quality - Maximum
// ============================================================================
seta r_texturebits "32"                 // 32-bit textures
seta r_colorbits "32"                   // 32-bit color
seta r_depthbits "24"                   // 24-bit depth buffer
seta r_stencilbits "8"                  // 8-bit stencil (for shadows)
seta r_picmip "0"                       // Highest texture quality
seta r_roundimagesdown "0"              // Don't reduce texture quality
seta r_detailtextures "1"               // Enable detail textures
seta r_textureMode "GL_LINEAR_MIPMAP_LINEAR" // Trilinear filtering
seta r_textureAnisotropy "16"           // Maximum anisotropic filtering
seta r_maxpolyverts "65536"             // Maximum polygon vertices
seta r_maxpolys "16384"                 // Maximum polygons

// ============================================================================
// Dynamic Lighting System (Phase 6)
// ============================================================================
seta r_dynamiclight "2"                 // Advanced dynamic lighting
seta r_maxDynamicLights "128"           // Support 128+ dynamic lights
seta r_lightmap "0"                     // Disable old lightmaps for dynamic
seta r_vertexLight "0"                  // Use per-pixel lighting
seta r_dlightBacks "1"                  // Light backfaces
seta r_dlightMode "1"                   // Enhanced lighting mode
seta r_dlightScale "1.0"                // Light intensity scale
seta r_dlightSpecular "1"               // Specular highlights
seta r_dlightShadows "1"                // Enable light shadows

// ============================================================================
// Shadow System (Phases 8-9)
// ============================================================================
seta r_shadows "4"                      // Stencil shadow volumes
seta r_shadowRange "1024"               // Shadow distance
seta r_shadowCascades "4"               // Shadow cascade levels
seta r_shadowResolution "2048"          // Shadow map resolution
seta r_shadowBlur "1"                   // Soft shadow edges
seta r_shadowPolygonOffset "-2"         // Shadow depth offset
seta r_shadowPolygonFactor "-1"         // Shadow polygon factor
seta r_shadowVolumes "1"                // Enable shadow volumes
seta r_stencilShadows "1"               // Use stencil for shadows

// ============================================================================
// Light Optimization (Phase 7)
// ============================================================================
seta r_lightScissoring "1"              // Enable light scissoring
seta r_lightCulling "1"                 // Frustum culling for lights
seta r_lightSort "1"                    // Sort lights by importance
seta r_lightLOD "0"                     // No light LOD reduction
seta r_lightPrecision "1"               // High precision lighting

// ============================================================================
// Material System (Phase 4)
// ============================================================================
seta r_normalMapping "1"                // Enable normal mapping
seta r_specularMapping "1"              // Enable specular maps
seta r_parallaxMapping "1"              // Enable parallax occlusion
seta r_pbr "1"                          // Physically based rendering
seta r_materialSystem "1"               // Use new material system
seta r_glossExponent "128"              // Specular glossiness

// ============================================================================
// Performance Optimizations (Phase 10)
// ============================================================================
seta r_smp "1"                          // Multi-threaded rendering
seta r_maxMSAASamples "8"               // 8x MSAA anti-aliasing
seta r_ext_multisample "8"              // Multisample anti-aliasing
seta r_framebufferMultisample "8"       // Framebuffer MSAA
seta r_adaptiveVsync "1"                // Adaptive VSync
seta r_finish "0"                       // Don't force GL finish
seta r_swapInterval "1"                 // VSync enabled
seta r_useFBO "1"                       // Use framebuffer objects

// ============================================================================
// Scene Complexity - Maximum
// ============================================================================
seta r_lodBias "-2"                     // Highest LOD models
seta r_lodScale "1.0"                   // LOD scaling
seta r_subdivisions "1"                 // Maximum curve detail
seta r_simpleMipMaps "0"                // Full quality mipmaps
seta r_drawSun "1"                      // Draw sun effects
seta r_fastsky "0"                      // Full quality sky
seta r_drawfog "2"                      // Volumetric fog
seta r_fogQuality "3"                   // Highest fog quality

// ============================================================================
// Effects Quality - Maximum
// ============================================================================
seta r_flares "1"                       // Lens flares
seta r_flareFade "1"                    // Flare fading
seta r_flareSize "1"                    // Flare size
seta cg_shadows "4"                     // Player shadows (stencil)
seta cg_marks "65536"                   // Maximum decal marks
seta cg_markTime "200000"               // Decal lifetime (ms)
seta cg_brassTime "25000"               // Shell casing lifetime
seta cg_blood "1"                       // Blood effects

// ============================================================================
// Particle Effects
// ============================================================================
seta cg_particleScale "1.5"             // Larger particles
seta cg_particleLOD "0"                 // No particle LOD
seta cg_smokeRadius "32"                // Smoke size
seta cg_smokeAlpha "0.5"                // Smoke transparency
seta cg_impactSparks "1"                // Impact sparks
seta cg_atmosphericEffects "1"          // Weather effects

// ============================================================================
// Animation and Physics
// ============================================================================
seta cg_animationSmoothingRate "0.95"   // Smooth animations
seta cg_interpolatePlayerState "1"      // Interpolate movement
seta cg_projectileNudge "1"             // Projectile prediction
seta cg_optimizePrediction "1"          // Optimize prediction
seta cg_ragdoll "1"                     // Ragdoll physics

// ============================================================================
// Memory and Cache Settings
// ============================================================================
seta com_hunkMegs "512"                 // 512MB heap
seta com_maxfps "300"                   // Max FPS cap
seta com_zoneMegs "256"                 // Zone memory
seta com_soundMegs "32"                 // Sound memory
seta r_textureCache "1"                 // Enable texture cache
seta r_vertexCache "1"                  // Enable vertex cache
seta r_vboVertexSkinning "1"            // GPU vertex skinning

// ============================================================================
// Debug and Development
// ============================================================================
seta r_showTris "0"                     // Show wireframe (debug)
seta r_showNormals "0"                  // Show normals (debug)
seta r_showLightVolumes "0"             // Show light volumes (debug)
seta r_showShadowVolumes "0"            // Show shadow volumes (debug)
seta r_showLightScissors "0"            // Show light scissors (debug)
seta r_speeds "0"                       // Performance stats
seta r_debugLight "0"                   // Light debugging
seta r_debugSort "0"                    // Sort debugging

// ============================================================================
// Audio Settings (High Quality)
// ============================================================================
seta s_volume "0.7"                     // Master volume
seta s_musicvolume "0.3"                // Music volume
seta s_doppler "1"                      // Doppler effect
seta s_khz "48"                         // 48 kHz audio
seta s_mixahead "0.1"                   // Audio latency
seta s_mixPreStep "0.02"                // Audio pre-step
seta s_useOpenAL "1"                    // Use OpenAL if available
seta s_alPrecache "1"                   // Precache sounds
seta s_alGain "1.0"                     // OpenAL gain
seta s_alDopplerFactor "1.0"            // Doppler factor
seta s_alDopplerSpeed "8192"            // Doppler speed

// ============================================================================
// Network Settings (LAN/Local)
// ============================================================================
seta rate "25000"                       // Network rate
seta cl_maxpackets "125"                // Max packets
seta cl_packetdup "0"                   // No packet duplication
seta snaps "40"                         // Snapshots per second
seta cl_timenudge "0"                   // No time nudge
seta cg_predictItems "1"                // Predict item pickups
seta cg_smoothClients "1"               // Smooth other players

// ============================================================================
// HUD and Interface
// ============================================================================
seta cg_draw3dIcons "1"                 // 3D HUD icons
seta cg_drawFPS "1"                     // Show FPS counter
seta cg_drawTimer "1"                   // Show match timer
seta cg_drawSnapshot "0"                // Network snapshot info
seta cg_lagometer "0"                   // Network lag meter
seta cg_fov "110"                       // Field of view
seta cg_zoomfov "22.5"                  // Zoom FOV
seta cg_bobpitch "0.002"                // Weapon bob pitch
seta cg_bobroll "0.002"                 // Weapon bob roll
seta cg_bobup "0.005"                   // Weapon bob vertical

// ============================================================================
// Input Settings
// ============================================================================
seta in_mouse "1"                       // Enable mouse
seta in_nograb "0"                      // Grab mouse
seta in_joystick "0"                    // Disable joystick
seta sensitivity "3"                    // Mouse sensitivity
seta cl_mouseAccel "0"                  // No mouse acceleration
seta m_filter "1"                       // Mouse filtering
seta m_pitch "0.022"                    // Mouse pitch
seta m_yaw "0.022"                      // Mouse yaw

// ============================================================================
// Final Setup
// ============================================================================
echo "^2Ultra Graphics Configuration Loaded!"
echo "^3Renderer: Vulkan with modern lighting pipeline"
echo "^3Dynamic Lights: 128+ supported"
echo "^3Shadows: Stencil shadow volumes enabled"
echo "^3Resolution: 2560x1440 (adjust r_customwidth/height for your display)"
echo "^7Type ^5vid_restart^7 to apply graphics changes"

// Load developer test binds
exec dev_test.cfg

// Auto apply on load
vid_restart