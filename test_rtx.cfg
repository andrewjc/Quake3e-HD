// ========================================
// Quake3e-HD RTX Ray Tracing Test Config
// ========================================

echo "Loading RTX test configuration..."

// Basic video settings
seta r_mode "-1"
seta r_customwidth "1920"
seta r_customheight "1080"
seta r_fullscreen "0"
seta r_allowSoftwareGL "0"
seta r_ignorehwgamma "1"

// Enable Vulkan renderer (required for RTX)
seta cl_renderer "vulkan"
seta r_backend "vulkan"

// RTX Settings
seta rtx_enable "1"
seta rtx_quality "2"              // 0=off, 1=low, 2=medium, 3=high, 4=ultra
seta rtx_denoise "0"              // Start without denoiser for testing
seta rtx_dlss "0"                 // Start without DLSS for testing
seta rtx_reflex "0"
seta rtx_gi_bounces "2"           // Global illumination bounces
seta rtx_reflection_quality "2"   // Reflection quality
seta rtx_shadow_quality "2"       // Shadow quality
seta rtx_debug "1"                // Enable debug output

// PBR and lighting settings
seta r_pbr "1"
seta r_pbrDebug "0"
seta r_deluxeMapping "1"
seta r_normalMapping "1"
seta r_specularMapping "1"
seta r_glossMapping "1"
seta r_parallaxMapping "1"
seta r_cubeMapping "1"

// Dynamic lights
seta r_dynamiclight "1"
seta r_dlightMode "1"
seta r_dlightScale "1.0"
seta r_dlightIntensity "1.0"

// Shadows
seta r_shadows "3"
seta r_shadowFilter "2"
seta r_shadowMapSize "2048"
seta r_shadowCascades "4"
seta r_shadowRange "1024"
seta r_sunShadows "1"

// Texture quality
seta r_picmip "0"
seta r_texturebits "32"
seta r_textureMode "GL_LINEAR_MIPMAP_LINEAR"
seta r_ext_texture_filter_anisotropic "1"
seta r_ext_max_anisotropy "16"

// Performance monitoring
seta r_speeds "1"
seta r_debugSurface "0"
seta r_showTris "0"
seta r_showNormals "0"
seta r_drawworld "1"
seta r_lockpvs "0"
seta r_novis "0"

// Console and debugging
seta com_developer "1"
seta com_speeds "0"
seta com_showfps "1"
seta con_notifytime "10"

// Test commands
echo "========================================="
echo "RTX Test Configuration Loaded"
echo "========================================="
echo ""
echo "Commands:"
echo "  rtx_status       - Show RTX hardware status"
echo "  rtx_enable 0/1   - Toggle RTX on/off"
echo "  vid_restart      - Restart renderer"
echo ""
echo "Debug modes (rtx_debug):"
echo "  1 - Show normals"
echo "  2 - Show albedo" 
echo "  3 - Show depth"
echo "  4 - Show roughness"
echo "  5 - Show metallic"
echo "  6 - Show motion vectors"
echo ""
echo "Test maps:"
echo "  map q3dm1        - Load DM1 for testing"
echo "  map q3dm17       - Load The Longest Yard"
echo "  map q3tourney2   - Load The Proving Grounds"
echo ""
echo "Camera controls:"
echo "  noclip           - Enable free camera"
echo "  god              - God mode"
echo "  give all         - Give all weapons"
echo ""

// Bind keys for quick testing
bind F1 "rtx_enable 0; vid_restart"
bind F2 "rtx_enable 1; vid_restart"
bind F3 "toggle rtx_debug 0 1 2 3 4 5 6"
bind F4 "toggle rtx_quality 1 2 3 4"
bind F5 "toggle rtx_gi_bounces 0 1 2 4 8"
bind F6 "toggle r_speeds"
bind F7 "screenshot"
bind F8 "rtx_status"
bind F9 "toggle rtx_denoise"
bind F10 "toggle rtx_dlss 0 1 2 3 4"
bind F11 "toggle r_showTris"
bind F12 "quit"

echo "Function keys bound for RTX testing (F1-F12)"
echo ""

// Auto-execute RTX status on load
wait 10
rtx_status